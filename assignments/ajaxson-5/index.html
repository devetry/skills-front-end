<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>The AJAXson 5 :: Unit 3: Front-End Web Skill Track</title>

        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/highlight.launchcode.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="https://djwbyvgln9kts.cloudfront.net/launch_ed_style/custom.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <ul class="nav navbar-nav">

                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle glyphicon glyphicon-menu-hamburger" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"></a>
                        <ul class="dropdown-menu">
                                                            <li class=" lc-button">
                                    <a href="/about/">
                                        About This Unit
                                    </a>
                                </li>
                                                            <li class=" lc-button">
                                    <a href="/course-outline/">
                                        Course Outline
                                    </a>
                                </li>
                                                            <li class=" lc-button">
                                    <a href="/studios/">
                                        Studios
                                    </a>
                                </li>
                                                            <li class="active lc-button">
                                    <a href="/assignments/">
                                        Assignments
                                    </a>
                                </li>
                                                            <li class=" lc-button">
                                    <a href="http://eloquentjavascript.net">
                                        Eloquent Javascript
                                    </a>
                                </li>
                                                            <li class=" lc-button">
                                    <a href="/issues/">
                                        Reporting Issues
                                    </a>
                                </li>
                                                        <li role="separator" class="divider"></li>
                            <li>
                                <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch">Search This Site</a>
                            </li>
                        </ul>
                    </li>

                
            </ul>


            <div>
                <a class="navbar-brand site-title navbar-center" href="/">
                    <h1>Unit 3: Front-End Web Skill Track</h1>
                </a>
            </div>

            <div class="nav navbar-nav navbar-right">
                <a class="navbar-brand dabomb" href="/"></a>
            </div>

        </header>

        <nav style="position:absolute; width: 180px; margin-top:64px">
            <ul class="nav navbar-big-nav hidden-md hidden-sm hidden-xs">
                                                            <li class=" lc-button">
                            <a href="/about/">
                                About This Unit
                            </a>
                        </li>
                                            <li class=" lc-button">
                            <a href="/course-outline/">
                                Course Outline
                            </a>
                        </li>
                                            <li class=" lc-button">
                            <a href="/studios/">
                                Studios
                            </a>
                        </li>
                                            <li class="active lc-button">
                            <a href="/assignments/">
                                Assignments
                            </a>
                        </li>
                                            <li class=" lc-button">
                            <a href="http://eloquentjavascript.net">
                                Eloquent Javascript
                            </a>
                        </li>
                                            <li class=" lc-button">
                            <a href="/issues/">
                                Reporting Issues
                            </a>
                        </li>
                                        <li role="separator" class="divider"></li>
                    <li>
                        <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch">Search This Site</a>
                    </li>
                            </ul>
        </nav>


        <!-- Search Modal -->
        <div id="modalSearch" class="modal fade" role="dialog">
           <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                   <button type="button" class="close" data-dismiss="modal">&times;</button>
                   <h4 class="modal-title">Search Unit 3: Front-End Web Skill Track</h4>
                </div>
                <div class="modal-body">
                    <script>
                      (function() {
                        var cx = "";
                        var gcse = document.createElement('script');
                        gcse.type = 'text/javascript';
                        gcse.async = true;
                        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                        var s = document.getElementsByTagName('script')[0];
                        s.parentNode.insertBefore(gcse, s);
                      })();
                    </script>
                    <gcse:search></gcse:search>
                </div>
                <div class="modal-footer">
                   <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

           </div>
        </div>

        <main class="container-fluid">
            <div class="row">

                <section id="content" class="col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
                                        <h1>The AJAXson 5</h1>
                    <p>One of the classic problems in computer science is the question of how to optimally implement a web page that displays GIFs of the Jackson 5. Today you'll take a stab at it.</p>
<h2 id="the-giphy-api">The Giphy API</h2>
<p>You are going to use the <a href="https://github.com/Giphy/GiphyAPI">Giphy API</a>, whose purpose, as you might guess, is to serve up GIFs to developers.</p>
<p>The basic goal of your page will be to fetch a GIF from Giphy, and then insert it into the DOM to display it on your page. We'll get into the details shortly, but first, let's play with Giphy for a minute.</p>
<h4 id="the-host">The host</h4>
<p>The host url we want is <code>https://api.giphy.com/v1/gifs/</code>. Let's try sending a GET request to that url. Try entering the following command into your terminal:</p>
<pre><code class="language-nohighlight">$ curl -G https://api.giphy.com/v1/gifs/
{"meta":{"status":404,"msg":"Not Found!"}}</code></pre>
<p>We received a 404 Not Found response from Giphy. Maybe they ran out of GIFs?</p>
<h4 id="the-endpoint">The Endpoint</h4>
<p>Actually, the problem is that we need to choose an &quot;endpoint&quot; to indicate which specific service we want. The endpoints are all listed in the documentation linked above, so check them out if you are interested. For this assignment, we will use the Random endpoint, which, upon receiving a request, responds with a randomly chosen GIF related to a particular topic (unless you don't provide a specific topic, in which case you'll get back a <em>very</em> random GIF).</p>
<p>The url for the Random endpoint is simply <code>/random</code>, so let's try this:</p>
<pre><code class="language-nohighight">$ curl -G https://api.giphy.com/v1/gifs/random
{"message":"No API key found in request"}</code></pre>
<p>This time we got a different error, 403 Forbidden. Like most APIs, Giphy requires us to authorize ourselves with a key. Luckily, they make a public &quot;Beta&quot; key available for people like us who are just testing, playing around, or doing LaunchCode Assignments. The key is &quot;dc6zaTOxFJmzC&quot;.</p>
<h4 id="adding-params-api_key">Adding Params: api_key</h4>
<p>Let's authorize ourselves by including in our request a parameter whose value is that magic string and whose key name is &quot;api_key&quot;.</p>
<p>We can associate data with our curl request by using the -d flag:</p>
<pre><code class="language-nohighlight">$ curl -G https://api.giphy.com/v1/gifs/random -d api_key=dc6zaTOxFJmzC
{"data":{"type":"gif","id":"RBLigAVE0xJte","url":"http:\/\/giphy.com\/gifs\/food-dessert-etc-RBLigAVE0xJte","image_original_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/giphy.gif","image_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/giphy.gif","image_mp4_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/giphy.mp4","image_frames":"35","image_width":"245","image_height":"180","fixed_height_downsampled_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/200_d.gif","fixed_height_downsampled_width":"272","fixed_height_downsampled_height":"200","fixed_width_downsampled_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/200w_d.gif","fixed_width_downsampled_width":"200","fixed_width_downsampled_height":"147","fixed_height_small_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/100.gif","fixed_height_small_still_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/100_s.gif","fixed_height_small_width":"136","fixed_height_small_height":"100","fixed_width_small_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/100w.gif","fixed_width_small_still_url":"http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/100w_s.gif","fixed_width_small_width":"100","fixed_width_small_height":"73","username":"","caption":""},"meta":{"status":200,"msg":"OK"}}</code></pre>
<p>We got some stuff! It's not very readable, but if we paste it into a <a href="http://jsonprettyprint.com">JSON Prettifyier</a>, we can see the structure very clearly:</p>
<pre><code class="language-nohighlight">{
  "data": {
    "type": "gif",
    "id": "RBLigAVE0xJte",
    "url": "http:\/\/giphy.com\/gifs\/food-dessert-etc-RBLigAVE0xJte",
    "image_original_url": "http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/giphy.gif",
    "image_url": "http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/giphy.gif",
    "image_mp4_url": "http:\/\/media1.giphy.com\/media\/RBLigAVE0xJte\/giphy.mp4",
    "image_frames": "35",
    "image_width": "245",
    "image_height": "180",
    ...
  },
  "meta": {
    "status": 200,
    "msg": "OK"
  }
}</code></pre>
<p>That's a lot of data for just one GIF. For our purposes, the only thing we care about is the value of the <code>"image_url"</code> key, which is inside of the <code>"data"</code> key:</p>
<pre><code class="language-nohighlight">http:\/\/media3.giphy.com\/media\/RBLigAVE0xJte\/giphy.gif</code></pre>
<p>If we fix up the &quot;escaped&quot; forward slashes, we get a valid url to a GIF!</p>
<pre><code class="language-nohighlight">http://media3.giphy.com/media/RBLigAVE0xJte/giphy.gif</code></pre>
<p>And then, if we set this url as the <code>"src"</code> attribute of an <code>&lt;img&gt;</code> tag in HTML, like so:</p>
<pre><code class="language-html">&lt;img src="http://media1.giphy.com/media/RBLigAVE0xJte/giphy.gif"/&gt;</code></pre>
<p>the result will be a GIF on our page!</p>
<img src="http://media3.giphy.com/media/RBLigAVE0xJte/giphy.gif"/>
<h4 id="adding-params-tag">Adding Params: tag</h4>
<p>But artisan lollipops is a topic for another time, because today is all about the Jacksons. To specify the topic of interest, we simply need to add another data parameter with the key &quot;tag&quot; and the value &quot;jackson+5&quot;:</p>
<pre><code class="language-nohighlight">$ curl -G https://api.giphy.com/v1/gifs/random -d api_key=dc6zaTOxFJmzC -d tag=jackson+5</code></pre>
<p>which should respond with a GIF like this one:</p>
<img src="http://media2.giphy.com/media/BrzAAl0VMNkk/giphy.gif" />
<p>Much better!</p>
<h2 id="the-goal">The Goal</h2>
<p>Your site should provide the user with a form where she can type a search query:</p>
<img src="screenshots/blank.png"/>
<p>Upon submitting the form, the user should briefly see an indication that something awesome is about to happen:</p>
<img src="screenshots/loading.png"/>
<p>After a little while, the user should see a GIF appear!</p>
<img src="screenshots/dance.png"/>
<p>If the user clicks the button again, even with the same search term, a new request should be sent, yielding a (probably) new GIF:</p>
<img src="screenshots/dance2.png"/>
<p>The gif should ideally be relevant to both the user's search term (&quot;dance&quot; in this case) and the Jackson 5 (or at least Michael), but depending on the search term, and just luck-of-the-draw, you might find that only one or the other could be satisfied. For example, a third click might yield this:</p>
<img src="screenshots/dance3.png"/>
<p>Dance: check. Jacksons: not so much. That's OK if the results don't quite work out, as long as you put in the effort and heart and soul (where &quot;effort and heart and soul&quot; means your form submitted to Giphy a request in which the &quot;tag&quot; key had a value of <code>"Jackson 5 dance"</code>).</p>
<p>Finally, it is possible that something might go wrong in the process of making the request. If so, you should report an error to the user, like so:</p>
<img src="screenshots/error.png" />
<h2 id="obtaining-the-starter-code">Obtaining the Starter Code</h2>
<ol>
<li>
<p>Visit our <a href="https://github.com/bgschiller/the-ajaxson-5">starter-code repository</a> on Github.</p>
</li>
<li>
<p><strong>Fork</strong> our repo by pressing the &quot;Fork&quot; button. You will now have your own version of the project, hosted on your Github profile.</p>
</li>
<li>
<p>Back on your terminal, use <code>cd</code> to navigate to the place in your file system where to the place you want this project to live.</p>
</li>
<li>
<p>Clone your remote repo:</p>
<pre><code class="language-nohighlight">$ git clone https://github.com/bobthebuilder/the-ajaxson-5</code></pre>
<p>where <code>bobthebuilder</code> is your own username.</p>
</li>
</ol>
<h2 id="take-a-look">Take a Look</h2>
<p>Look inside the folder:</p>
<pre><code class="language-nohighlight">$ cd the-ajaxson-5/
$ ls
README.md index.html request-gif.js screenshots</code></pre>
<p>We're only going to edit <code>index.html</code> and <code>request-gif.js</code>&mdash;the other files are there as documentation.</p>
<h4 id="indexhtml">index.html</h4>
<p>In <code>index.html</code> we have four main things:</p>
<ul>
<li>a <code>&lt;form&gt;</code> where the user can type a search query and request a new GIF</li>
<li>an <code>&lt;img&gt;</code> where the GIF will be displayed</li>
<li>a <code>&lt;p&gt;</code> that we can use to report feedback about the image loading or an error having occurred.</li>
<li>a couple <code>&lt;script&gt;</code> tags to load Vue.js and our own <code>request-gif.js</code> script.</li>
</ul>
<p>Changes you'll need to make in <code>index.html</code>:</p>
<ol>
<li>You'll add a loading indicator for when we're waiting for Giphy to hand us back a GIF.</li>
<li>Change the tag input so that it's kept in sync with your Vue's data.</li>
</ol>
<h4 id="request-gifjs">request-gif.js</h4>
<p>This file defines a new Vue with a few data properties (<code>tagValue</code>, <code>errorMessage</code>, <code>loading</code>, and <code>imgSrc</code>), and a single large method: <code>fetchGif</code>. You'll also notice the line that says <code>el: '#mount-point'</code>. That tells Vue to look to the html element with an id of <code>mount-point</code> in order to know how to render.</p>
<p>Let's take a look in the <code>fetchGif</code> function. This is where you'll do all of your work in this file.  You'll see a handful of TODOs sprinkled throughout the body of this function. The code that's in there currently provides a skeleton for the following game plan:</p>
<ol>
<li>Check the Vue's data to figure out what the user typed</li>
<li>make an AJAX request</li>
<li>when the request comes back, save the <code>image_url</code>. This causes Vue to re-render the DOM, showing the GIF.</li>
</ol>
<p>To make the AJAX request, we use the built-in <code>fetch()</code> function. Take a look at the way we're calling fetch. We're passing in a <a href="https://wesbos.com/javascript-template-strings/">template string</a>, using backticks. It has the params already filled out, but the URL is wrong. It's currently <code>http://example.com</code>.</p>
<p>There are many more settings you can configure using fetch but, for now, the URL is all we need.</p>
<p>The fetch function makes an HTTP request, and produces something called a <code>Promise</code>. Promises in javascript are all over the place. They're a way of saying &quot;This action isn't done yet but when it is, here's what I'd like to do next.&quot; That's the <code>.then(callback)</code> portion. It's also possible to say &quot;Here's what we should do if something goes wrong&quot;. That's the <code>.catch(callback)</code> portion. We'll talk more about promises in class.</p>
<p>As it happens, we have some things we'd like to do once the action is done. Specifically, we'd like to update our <code>imgSrc</code> property with the new data, and set <code>loading</code> to be false. You'll see a couple TODO comments for those items.</p>
<p>The last section of this function is a TODO where we instruct you to give the user a &quot;Loading...&quot; message while they wait for the response to come back. You might be wondering: Why are we displaying a loading message AFTER we've already done the whole request and handled the response in the <code>then(...)</code> (or <code>catch(...)</code>) function? Remember, those callback functions will not actually be <em>executed</em> until later, after the response comes back. Just because the <code>then(...)</code> function is defined <em>above</em> line 41 does not mean that it will actually be invoked before line 41.</p>
<h2 id="your-task">Your Task</h2>
<p>The assignment has 3 parts:</p>
<h4 id="part-1-core-functionality">Part 1: Core Functionality</h4>
<p>This part is easy to explain: go ahead and fill in those <code>TODO</code> comments!</p>
<p>You know you are done when your site performs all the functionality described in the <a href="./#the-goal">The Goal</a> section above.</p>
<p>You may find the following Vue Documentation pages helpful:</p>
<ul>
<li><a href="https://vuejs.org/v2/guide/#Declarative-Rendering">Declarative Rendering</a></li>
<li><a href="https://vuejs.org/v2/guide/#Conditionals-and-Loops">Conditionals and Loops</a></li>
<li><a href="https://vuejs.org/v2/guide/#Handling-User-Input">Handling User Input</a></li>
</ul>
<h4 id="part-2-validation">Part 2: Validation</h4>
<p>Next, it is time to add some validation to the page. We are going to create a contrived scenario here, just to make you practice your skillz.</p>
<p>You know those &quot;Prove you are not a robot&quot; CAPTCHA widgets? Your  job is to create one of those, albeit a nontraditional one. Specifically,  the task is as follows:</p>
<p>Add a second field to your form. It should look like this:</p>
<p><img src="./screenshots/captcha.png" alt="captcha" /></p>
<p>If the user gets the answer right, then go ahead and load the GIF like normal.</p>
<p>If not, bring the hammer down:</p>
<p><img src="./screenshots/rejected.png" alt="rejected" /></p>
<p>Of course, this would actually be a terribly ineffective way to prevent robots from searching for GIFs on your site, so don't go getting any ideas that this is something you should actually do In Real Life.</p>
<h4 id="part-3-beauty">Part 3: Beauty</h4>
<p>Finally, add some CSS to make your page beautiful and responsive.</p>
<p>Here is an example of a nicer looking page:</p>
<p><img src="./screenshots/pretty-page-1.png" alt="pretty-page-1" />
<img src="./screenshots/pretty-page-2.png" alt="pretty-page-2" />
<img src="./screenshots/pretty-page-3.png" alt="pretty-page-3" /></p>
<p>But feel free to get creative and style the page however you want.</p>
<p>The one requirement is that your page <strong>must be reasonably responsive!</strong>. Specifically, this means that it must be equally functional and non-ugly on mobile phones as it is on larger desktop screens. You should make your browser window really narrow while you design, so as to force yourself to think &quot;mobile first&quot;.</p>
<p>You are free to use <a href="http://getbootstrap.com/css/">Bootstrap</a> or any other CSS framework to help in this. I also recommend flexbox for making your page responsive.</p>
<h2 id="how-to-submit">How to Submit</h2>
<ol>
<li>Follow the <a href="..">submission instructions</a></li>
<li>Hit the dance floor!</li>
</ol>
                                    </section>

            </div>
        </main>

        <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script type="text/javascript" src="/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="/js/highlight.pack.js"></script>
        <script type="text/javascript" src="/js/libgif.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');

                // Syntax highlighting
                hljs.configure({ displayLabels: true });
                hljs.initHighlightingOnLoad();
            });
        </script>
        <script>
            $(function() {
                if (!location.pathname.match(/class-prep/)) return;

                window.checkboxWatcher = new Vue({
                    el: '#content',
                    data: function() {
                        var storedValue = localStorage.getItem('completedChecks');
                        console.log('storedValue', storedValue);
                        var hydratedValue = storedValue ? JSON.parse(storedValue) : {};
                        return {
                            checks: hydratedValue,
                        };
                    },
                    watch: {
                        checks: {
                            handler: function() {
                                console.log('storing check state');
                                localStorage.setItem('completedChecks', JSON.stringify(this.checks));
                            },
                            deep: true,
                        },
                    },
                });
            });
        </script>
        
    </body>
</html>
